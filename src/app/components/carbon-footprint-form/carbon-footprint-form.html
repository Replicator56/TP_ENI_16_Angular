<form [formGroup]="form" (ngSubmit)="validateForm()">
    <fieldset>
        <legend>Ajout d'un voyage</legend>
        <div>
            <label for="typeVoyage">Type de voyage : </label>
            <select id="typeVoyage" name="typeVoyage" formControlName="typeVoyage">
                @for (typeV of listTypesVoyage; track typeV) {
                    <option [value]="typeV">{{ typeV | titlecase }}</option>
                }
            </select>
            @if (form.get('typeVoyage')?.dirty && form.get('typeVoyage')?.errors) {
                <p class="error">Le type de voyage est obligatoire !</p>
            }
        </div>
        <div>
            <label for="distanceKm">Distance : </label>
            <input type="number" id="distanceKm" name="distanceKm" formControlName="distanceKm" min="0">
            @if (form.get('distanceKm')?.dirty && form.get('distanceKm')?.errors) {
                <p class="error">La distance doit être supérieure à 0 !</p>
            }
        </div>
        @if (form.value.typeVoyage === 'voiture') {
            <div>
                    <label for="consommationPour100Km">Consommation pour 100 km : </label>
                    <input type="number" id="consommationPour100Km" name="consommationPour100Km" formControlName="consommationPour100Km" min="0">
                    @if (form.get('consommationPour100Km')?.dirty && form.get('consommationPour100Km')?.errors) {
                        <p class="error">La consommation doit être supérieure à 0 !</p>
                    }
            </div>
        }
        <div>
            <label for="date">Date : </label>
            <input type="date" id="date" name="date" value="{{ this.form.value.date | date: 'yyyy-MM-dd' }}">
            @if (form.get('date')?.errors) {
                <p class="error">La date est obligatoire !</p>
            }
            </div>
        <div>
            <button type="submit" matButton="filled" [disabled]="form.invalid">Ajouter un voyage</button>
        </div>
    </fieldset>
</form>